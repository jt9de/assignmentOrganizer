{% load static %}
{% load bootstrap5 %}
{% bootstrap_css %}
{% load socialaccount %}
<link rel="stylesheet" type="text/css" href="{% static 'mainapp/style.css' %}">
<!-- Dropdown logic https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_dropdown_right -->
<style>
  .navbar-custom {
    height: 75px;
  }

  .dropbtn {
    color: rgb(0, 9, 131);
    padding: 10px;
    font-size: 16px;
    border: 2px solid rgb(0, 9, 131);
  }

  .dropdown {
    position: relative;
    display: inline-block;
  }

  .dropdown-content {
    display: none;
    position: absolute;
    background-color: #f1f1f1;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
    z-index: 1;
  }

  .dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
  }

  .dropdown-content a:hover {
    background-color: #ddd;
  }

  .dropdown:hover .dropdown-content {
    display: block;
  }

  .dropdown:hover .dropbtn {
    background-color: #816bff;
  }
</style>

<!-- Navbar style https://stackoverflow.com/questions/41513463/bootstrap-align-navbar-items-to-the-right -->
<nav class="navbar navbar-expand-lg navbar-light bg-light navbar-custom">
  <div class="container-fluid">
    <a class="navbar-brand">Assignment Organizer</a>
    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <form action="{% url 'index' %}">
            <div class="dropdown" style="float:left; margin-right:10px;">
              <button class="dropbtn" style="border-radius : 20px" type="submit">Home</button>
            </div>
          </form>
        </li>
        <li class="nav-item">
          <form action="{% url 'calendar' %}">
            <div class="dropdown" style="float:left; margin-right:10px;">
              <button class="dropbtn" style="border-radius : 20px" type="submit">Calendar</button>
            </div>
          </form>
        </li>
        <li class="nav-item">
          <form action="{% url 'classes' %}">
            <div class="dropdown" style="float:left; margin-right:10px;">
              <button class="dropbtn" style="border-radius: 20px;" type="submit">Classes</button>
              <div class="dropdown-content" style="left:0; border-radius : 20px;">
                <a style="border-radius : 20px;" href="{% url 'classes' %}">Your Classes</a>
                <a style="border-radius : 20px;" href="{% url 'all_classes' %}">Add a Class</a>
              </div>
            </div>
          </form>
        </li>
      </ul>
      <ul class="navbar-nav">
        {% if user.is_authenticated %}
        <li class="nav-item">
          <form action="{% url 'logout' %}">
            <div class="dropdown" style="float:left;">
              <button class="dropbtn" style="border-radius: 20px;" type="submit">Log Out</button>
            </div>
          </form>
        </li>
        {% else %}
        <li class="nav-item">
          <form action="{% provider_login_url 'google' %}">
            <div class="dropdown" style="float:left;">
              <button class="dropbtn" style="border-radius: 20px;" type="submit">Log In</button>
            </div>
          </form>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>